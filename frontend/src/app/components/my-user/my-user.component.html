<div class="grid-layout-2">
    <div>
        <div>
            <div>
                <div>
                    <img style="width: 200px; height: 200px; background-color: transparent; border-radius: 50%;" *ngIf="user.foto" src={{user.foto}}>
                    <img style="width: 200px; height: 200px; background-color: black; border-radius: 50%;" *ngIf="!user.foto">
                </div>
            </div>
            <div class="m-t-20">
                <h1>{{user.nombre}}</h1>
            </div>
        </div>

        <div class="m-t-20 m-b-20 grid-2" style="position:relative">
            <div *ngFor="let y of doc">
                <h3>Progreso:</h3>
                <h2 id="progress-number" *ngIf="y.progreso >= 1">{{y.progreso}}%</h2>
                <h1 *ngIf="y.progreso === null">0%</h1>
            </div>
            <!--div>
                <h3>Nivel de drogadicción:</h3>
                <h4><i class="fas fa-exclamation-circle"></i> Preocupante</h4>
            </div-->
        </div>

        <div class="m-t-20">
            <ng-container *ngIf="loginService.loggedIn();">
                <h3>Descripción</h3>
                <p>{{user.descripcion}}</p>
            </ng-container>
            <ng-container>
              <button class="m-t-20 btn" *ngIf="docLleno == 'lleno' && user.rol === 'Paciente' " (click)="eliminarDoctor()">Dejar doctor</button>
            </ng-container>
            <button class="m-t-20 btn" style="margin: 10px;" *ngIf="user.rol === 'Paciente' " routerLink="/create-request">Crear Solicitud Doctor</button>
            <ng-container *ngIf="user.rol === 'Paciente' && docLleno == 'lleno' ">
                <h3 class="m-t-20"><i class="fas fa-exclamation-circle"></i> Advertencia</h3>
                <p>Al dejar este doctor se perderá toda relación y sus datos juntos</p>
            </ng-container>
        </div>
        <div class="m-t-20">
            <div>
                <ng-container *ngIf="haspoll === 'tiene'; else nopoll">
                    <div><button routerLink="/my-user/game" class="button-games red"><i class="fas fa-gamepad"></i> Juegos <i class="fas fa-angle-double-right"></i></button></div>
                </ng-container>
                <ng-template #nopoll>
                    <div>
                        <h3 class="m-b-20"><i class="fas fa-exclamation-circle"></i> Aún no tienes tu nivel de drogadicción</h3>
                        <button routerLink="/my-user/initial-poll/1" class="button-games blue"><i class="fas fa-tasks"></i> Encuesta Inicial <i class="fas fa-angle-double-right"></i></button>
                    </div>
                </ng-template>

            </div>
        </div>
    </div>
</div>
